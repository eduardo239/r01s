import{b as r,g as u,w as t,f as l,e as a,M as N,h as y,t as k,K as B,r as m,a as w,G as P,p as S,c as T,F as U,d as V,P as $,Q as q,N as x,u as D,n as R,R as A,S as I,o as E,T as F,B as L}from"./index.cdbfdf51.js";import{_ as z}from"./AlertMessage.06ae2210.js";const G={__name:"ChallengeHeader",props:["id","question","difficulty","language","timer"],setup(n){return(e,i)=>(r(),u(a(B),{style:{padding:"2rem 0"}},{default:t(()=>[l(a(N),{depth:"3"},{default:t(()=>[y("ID # "+k(n.id),1)]),_:1}),l(a(N),{type:"warning"},{default:t(()=>{var s;return[y("Difficulty # "+k((s=n.difficulty)!=null?s:0),1)]}),_:1}),l(a(N),{type:"error"},{default:t(()=>[y("Timer # "+k(n.timer?n.timer:0)+" tenth of a second",1)]),_:1})]),_:1}))}},M={style:{overflow:"auto"}},Y={__name:"ChallengeCode",props:{language:String,code:String},setup(n){return m(0),(e,i)=>{const s=w("n-code"),d=w("n-space");return r(),u(d,{class:"code-container"},{default:t(()=>[P("div",M,[l(d,{vertical:""},{default:t(()=>[l(s,{class:"code",code:n.code,language:n.language},null,8,["code","language"])]),_:1})])]),_:1})}}},j={__name:"ChallengeForm",props:["alternatives","isPlaying"],emits:["event"],setup(n,{emit:e}){const i=S(),s=m(null),d=m(!1),o=m({alternative:""}),c=v=>s.value=v.target.value,f=v=>{d.value=!0,e("event",o)};return(v,_)=>{const C=w("n-button-group");return r(),u(a(B),{vertical:"",style:{margin:"1rem 0"}},{default:t(()=>[(r(!0),T(U,null,V(n.alternatives,(g,h)=>(r(),u(a($),{key:h,disabled:!n.isPlaying,value:o.value.alternative,"onUpdate:value":p=>o.value.alternative=p,class:"challenge-alternatives"},{default:t(()=>[l(a(q),{class:"challenge-alternative",checked:s.value===g,value:g,name:"form-alternatives",onChange:c},{default:t(()=>[y(k(g),1)]),_:2},1032,["checked","value"])]),_:2},1032,["disabled","value","onUpdate:value"]))),128)),l(C,{style:{display:"flex","justify-content":"space-between","margin-top":"1rem"}},{default:t(()=>[l(a(x),{size:"large",disabled:d.value||!n.isPlaying,type:"primary",onClick:_[0]||(_[0]=g=>f(o.value))},{default:t(()=>[y(" SAVE ")]),_:1},8,["disabled"]),l(a(x),{disabled:n.isPlaying,size:"large",onClick:_[1]||(_[1]=()=>a(i).go(-1))},{default:t(()=>[y("Back")]),_:1},8,["disabled"])]),_:1})]),_:1})}}},O={__name:"ChallengeById",setup(n){const e=D(),i=R(),s=A(),d=S(),o=m(!0),c=m(10),f=m({type:"",message:""}),v=()=>{c.value>0&&e.challenge&&o.value?setTimeout(()=>{c.value--,v()},1e3):c.value<=0&&(o.value=!1,c.value=0,f.value={type:"error",message:"The time is over."})};I(e,C=>{}),E(()=>{s.params&&e._getChallengeById(s.params.cid),i.isLoggedIn||d.push("/auth"),c.value=e.challenge.duration,v()}),F(()=>{e.resetChallenge()});const _=C=>{o.value=!1;const g=C.value,h=c.value,p=g.alternative===e.challenge.correct,b={uid:i.user.uid,cid:e.challenge.id,correct:p,points:p?h*e.challenge.difficulty:0};f.value={type:b.correct?"success":"error",message:b.correct?`Congratulations, you got the answer right. You got ${b.points} points.`:"Sorry but the answer is incorrect. You got 0 points"},i.saveUserAnswer(b)};return(C,g)=>{const h=w("n-card"),p=w("n-space");return r(),u(p,{vertical:""},{default:t(()=>[a(e).challenge?(r(),u(h,{key:0,title:a(e).challenge.question},{default:t(()=>[l(G,{id:a(e).challenge.id,question:a(e).challenge.question,difficulty:a(e).challenge.difficulty,timer:c.value},null,8,["id","question","difficulty","timer"]),l(Y,{language:a(e).challenge.language,code:a(e).challenge.code},null,8,["language","code"]),l(j,{onEventOnce:_,alternatives:a(e).challenge.answers,isPlaying:o.value},null,8,["alternatives","isPlaying"]),f.value.message?(r(),u(z,{key:0,message:f.value},null,8,["message"])):L("",!0)]),_:1},8,["title"])):(r(),u(h,{key:1,title:"Challenge not found!"}))]),_:1})}}};export{O as default};
